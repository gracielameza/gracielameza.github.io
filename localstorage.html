<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Week 12 Activity</title>
    <script src="storage.js"></script>
  </head>
  <body>
    <h1>Local Storage and Cookies Sample</h1>  
    <table border = "0" width = "100%", cellspacing = "1">
      <tr>
        <td width = "25%" align = "center" bgcolor = "#F5E6CC">
          <a href= "index.html"><p align = "center"><b><font face = "Courier" size = "4">Gracie Talks About Anime</font></b></p>
        </td>
        <td width = "25%" align = "center" bgcolor = "#F5E6CC">
        <a href= "fancifymytext.html"><b><p align = "center"><b><font face = "Courier" size = "4">Fancify My Text</font></b></p></a>
        </td>
        <td width = "25%" align = "center" bgcolor = "#F5E6CC">
        <A href= "weekfive.html">	<p align = "center"><b><font face = "Courier" size = "4">Working with Javascript Timer</font></b></p></a>
        </td>
        <td width = "25%" align = "center" bgcolor = "#F5E6CC">
          <p align = "center"><b><font face = "Courier" size = "4">Local Storage and Cookies</font></b></p></a>
        </td>
      </tr>
      </table>
      <p>You've been here before.</p>
      <div id="result"></div>
      <p>Close the browser tab (or window), and try again, and the counter will continue to count.</p>
      <br>
      <p><strike>Stalker</strike> To clear the counter, please press the following button.</p>
      <p><button onclick="clearData()" type="button">Clear</button></p>
  </body>

  <script>
  var url_segment = window.location.href.split('/');
  var script_name = url_segment[url_segment.length - 1];
  if(localStorage[script_name]) {
    localStorage[script_name] = Number(localStorage[script_name]) + 1;
  } else {
    localStorage[script_name] = 1;
  }
  document.getElementById("result").innerHTML = "You have been here "+ localStorage[script_name] + " time(s).";

  function clearData() {
    localStorage[script_name] = 0;
    document.getElementById("result").innerHTML = "You have been here "+ localStorage[script_name] + " time(s).";
  }
</script>
</html>
